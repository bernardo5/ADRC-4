\documentclass[a4paper]{article}

\usepackage[portuguese]{babel}
\usepackage{comment}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{float}
\usepackage{multirow}
\usepackage{indentfirst}
\usepackage[hypcap]{caption} % makes \ref point to top of figures and tables
\usepackage[]{algorithm2e}


\begin{document}

\input{./rosto.tex}
\hypersetup{%
    pdfborder = {0 0 0}
}

\pagenumbering{arabic}
\section{Descrição do problema}
Neste mini-projecto, pretende-se a implementação de diversas funções relacionadas com o tipo de rota comercial eleita de cada nó de uma dada rede para um destino eleito.

Assim, a função \textit{Dijkstra} elege o tipo de rota e calcula o número de saltos necessários para chegar ao destino.

O cálculo das estatísticas para as diferentes rotas e para os números de saltos até ao destino, é feito depois da função anterior ser corrida para todos os destinos possíveis no grafo. Este é feito pelas funções \textit{paths\_statistics} e \textit{number\_hops\_statistics}.

\section{Abordagem ao problema}
Decidimos utilizar um algoritmo baseado no algoritmo de \textit{Dijkstra} para a computação das rotas a utilizar dos diversos nós para um destino eleito. Como tal, foi necessário que o programa interpretasse os dados de entrada provenientes de um ficheiro de texto por forma a ficar com a topologia da rede. A topologia é armazenada numa lista de adjacências.

Por questões de tempo de resolução do problema e tendo sido assegurado que o número de nós dos grafos não excederia o valor máximo de alocação de memória, a lista de adjacências criada tem por base um vector de ponteiros em que cada posição contém uma lista para as adjacências de cada nó.

Sendo as estatísticas calculadas depois de cada nó saber os caminhos a escolher tendo por base todos os destinos possíveis, após a leitura do ficheiro, o programa procede à realização da nossa função \textit{Dijkstra} para todos os destinos, no fim de cada iteração atualiza-se o número de rotas utilizadas de cada tipo e o número de saltos utilizados para chegar ao destino. No fim de todos os cálculos são então feitas as estatísticas, sendo posteriormente apresentadas ao utilizador.

\section{Função \textit{Dijkstra}}

\subsection{Função \textit{Insert}}

\section{Estatísticas}
Para o cálculo das estatísticas pedidas, utilizámos as variáveis \textit{ones}, \textit{twos}, \textit{threes} e o vector \textit{stat\_hops}, que estão constantemente a ser atualizados no fim de cada iteração, recalculando o número de rotas \textit{customer}, \textit{peer}, \textit{provider} e o número de vezes que se chega ao destino em \textit{i} saltos, sendo \textit{i} o índice do vector \textit{stat\_hops}.
\subsection{Função \textit{paths\_statistics}}
O pseudo-código da função apresentada é o seguinte:

\begin{algorithm}[H]
 \KwResult{estatísticas das rotas utilizadas}
  stat\_customer=ones/total\_routes;
  
  stat\_peer=twos/total\_routes;
  
  stat\_peer=threes/total\_routes;
 \caption{\textit{paths\_statistics}}
\end{algorithm}
\subsection{Função \textit{number\_hops\_statistics}}
O pseudo-código da função apresentada é o seguinte:

\begin{algorithm}[H]
 \KwResult{estatísticas para cada número de saltos}
 counts total number of hops\;
 
 \For{each hop number}{
 	prints ocurrencies/total\;
 }
 
 \caption{\textit{number\_hops\_statistics}}
\end{algorithm}
\section{Considerações finais}


\end{document}